<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미니 게임 아케이드</title>
    <link rel="stylesheet" href="style.css?v=10">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <h1 class="title">미니 게임 아케이드</h1>
    </header>

    <main class="slider-container">
        <button class="slider-btn prev-btn" onclick="slide(-1)">‹</button>
        
        <div class="slider-wrapper">
            <div class="slider-track">
                <a href="jumong/index.html" class="game-card">
                    <div class="card-content">
                        <h2 class="game-title">주몽 활쏘기</h2>
                        <div class="game-tags">
                            <span class="tag">액션</span>
                            <span class="tag">슈팅</span>
                        </div>
                        <div class="play-button">플레이</div>
                    </div>
                </a>

                <a href="ddang/index.html" class="game-card">
                    <div class="card-content">
                        <h2 class="game-title">땅따먹기</h2>
                        <div class="game-tags">
                            <span class="tag">퍼즐</span>
                            <span class="tag">전략</span>
                        </div>
                        <div class="play-button">플레이</div>
                    </div>
                </a>

                <a href="lottery/index.html" class="game-card">
                    <div class="card-content">
                        <h2 class="game-title">랜덤 뽑기</h2>
                        <div class="game-tags">
                            <span class="tag">랜덤</span>
                            <span class="tag">추첨</span>
                        </div>
                        <div class="play-button">플레이</div>
                    </div>
                </a>

                <a href="tetris/index.html" class="game-card">
                    <div class="card-content">
                        <h2 class="game-title">하연 게임</h2>
                        <div class="game-tags">
                            <span class="tag">퍼즐</span>
                            <span class="tag">클래식</span>
                        </div>
                        <div class="play-button">플레이</div>
                    </div>
                </a>

                <a href="sonic/index.html" class="game-card">
                    <div class="card-content">
                        <h2 class="game-title">소닉 러너</h2>
                        <div class="game-tags">
                            <span class="tag">러닝</span>
                            <span class="tag">모바일</span>
                        </div>
                        <div class="play-button">플레이</div>
                    </div>
                </a>

                <!-- 게임 추가 예시 (필요시 주석 해제) -->
                <!--
                <a href="#" class="game-card">
                    <div class="card-content">
                        <h2 class="game-title">새 게임 1</h2>
                        <div class="game-tags">
                            <span class="tag">장르</span>
                        </div>
                        <div class="play-button">플레이</div>
                    </div>
                </a>

                <a href="#" class="game-card">
                    <div class="card-content">
                        <h2 class="game-title">새 게임 2</h2>
                        <div class="game-tags">
                            <span class="tag">장르</span>
                        </div>
                        <div class="play-button">플레이</div>
                    </div>
                </a>

                <a href="#" class="game-card">
                    <div class="card-content">
                        <h2 class="game-title">새 게임 3</h2>
                        <div class="game-tags">
                            <span class="tag">장르</span>
                        </div>
                        <div class="play-button">플레이</div>
                    </div>
                </a>
                -->
            </div>
        </div>
        
        <button class="slider-btn next-btn" onclick="slide(1)">›</button>
    </main>

    <div class="slider-dots"></div>

    <footer class="footer">
        <p>© 2026 미니 게임 아케이드</p>
    </footer>

    <script>
        const track = document.querySelector('.slider-track');
        const originalCards = Array.from(document.querySelectorAll('.game-card'));
        const dotsContainer = document.querySelector('.slider-dots');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        const totalCards = originalCards.length;
        
        let currentIndex = 0;
        let isTransitioning = false;
        
        // 도트 생성
        function createDots() {
            dotsContainer.innerHTML = '';
            for (let i = 0; i < totalCards; i++) {
                const dot = document.createElement('span');
                dot.className = 'dot' + (i === 0 ? ' active' : '');
                dot.onclick = () => goToSlide(i);
                dotsContainer.appendChild(dot);
            }
        }
        
        // 카드 너비와 gap 계산
        function getCardWidth() {
            const firstCard = track.querySelector('.game-card');
            if (!firstCard) return 300;
            const trackStyle = window.getComputedStyle(track);
            const gap = parseFloat(trackStyle.gap) || 24;
            return firstCard.offsetWidth + gap;
        }
        
        // 슬라이드 위치 업데이트
        function updateSliderPosition(animate = true) {
            const cardWidth = getCardWidth();
            if (animate) {
                track.style.transition = 'transform 0.4s ease-in-out';
            } else {
                track.style.transition = 'none';
            }
            track.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
        }
        
        // 슬라이드 이동
        function slide(direction) {
            if (isTransitioning) return;
            isTransitioning = true;
            
            currentIndex += direction;
            
            // 경계 처리
            if (currentIndex < 0) {
                currentIndex = totalCards - 1;
            } else if (currentIndex >= totalCards) {
                currentIndex = 0;
            }
            
            updateSliderPosition(true);
            updateDots();
            
            setTimeout(() => {
                isTransitioning = false;
            }, 400);
        }
        
        // 특정 슬라이드로 이동
        function goToSlide(index) {
            if (isTransitioning || index === currentIndex) return;
            isTransitioning = true;
            
            currentIndex = index;
            updateSliderPosition(true);
            updateDots();
            
            setTimeout(() => {
                isTransitioning = false;
            }, 400);
        }
        
        // 도트 업데이트
        function updateDots() {
            const dots = document.querySelectorAll('.dot');
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === currentIndex);
            });
        }
        
        // 초기화
        if (totalCards > 0) {
            createDots();
            updateSliderPosition(false);
        }
        
        // 리사이즈 대응
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                updateSliderPosition(false);
            }, 100);
        });
    </script>
</body>
</html>
